# Block requests for common bot/scanner files
location ~* \.(yml|yaml|json)$ {
    return 444;  # Drop connection without response
}

location ~* /static/js/.*\.chunk\.js$ {
    return 444;  # Block React chunk files
}

location ~* /static/js/main\.[a-f0-9]+\.js$ {
    return 444;  # Block hashed JS files
}

location ~* /static/config\.json$ {
    return 444;  # Block config.json requests
}

# Block common scanner paths
location ~* \.(git|env|gitlab-ci|dockerignore|htaccess)$ {
    return 444;
}

# Block requests for .env files and other sensitive files
location ~* \.(env|log|conf|ini)$ {
    return 444;
}

# Improved static file handling (without rate limiting for now)
location /static/ {
    try_files $uri $uri/ @proxy_to_app;
    add_header Cache-Control "public, max-age=31536000";
    expires 1y;
}